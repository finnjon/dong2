
<div class="row">
  <div class="col-md-10">
    <h4>
      <span class="label label-primary">{{ droplet.status || "draft" }}</span>
      <span class="label label-danger">{{ droplet.open || "private" }}</span>
      <span class="label label-warning">{{ droplet.verified || "unverified" }}</span>
    </h4>
    <button *ngIf="droplet.verified === 'unverified' && droplet.status ==='complete'" class="btn btn-small" (click)="submitForReview('submit')">Submit for Review</button>
    <button *ngIf="droplet.verified === 'under review' && droplet.status ==='complete'" class="btn btn-small" (click)="submitForReview('resubmit')">Resubmit for Review</button>
    <div class="droplet-name" (click)="editThis('name')">{{ droplet.name || "no name" }}
      <div class="progress-marker" [class.complete]="droplet.name">
      </div>
    </div>
    <div *ngIf="droplet.comments && droplet.comments.name" class="left15 comments col-md-10">
      <label>Editor comment:</label>
      <div>{{ droplet.comments.name }}</div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-10">
    <h4>Description
      <div class="progress-marker" [class.complete]="droplet.description"></div>
    </h4>
    <div class="row">
      <div class="col-md-10" (click)="editThis('description')">
        <span [innerHTML]="droplet.description"></span>
      </div>
    </div>
    <div *ngIf="droplet.comments && droplet.comments.description" class="left15 comments col-md-10">
      <label>Editor comment:</label>
      <div>{{ droplet.comments.description }}</div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-10">
    <h4>Explanations
      <div class="progress-marker" [class.complete]="droplet.explanations.length > 0"></div>
    </h4>
    <button class="btn btn-sm" [routerLink]="['/create/create3']">Add New</button>
    <div *ngIf="droplet.explanations.length < 1">None</div>
    <div class="row" *ngFor="let explanation of droplet.explanations; let i=index; trackBy: tracking">
      <div class="explanation col-md-10" (click)="selectExplanation(i)">
        <span (click)="removeElement(i, 'explanation')" class="pull-right glyphicon glyphicon-remove" aria-hidden="true"></span>
        <span [innerHTML]="explanation.content || empty"></span>
      </div>
      <div *ngIf="explanation.comment" class="comments col-md-10">
        <label>Editor comment:</label>
        <div>{{ explanation.comment }}</div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-10">
    <h4>Questions
      <div class="progress-marker" [class.complete]="droplet.questions.length > 0"></div>
      <div class="progress-marker" [class.complete]="droplet.questions.length > 1"></div>
      <div class="progress-marker" [class.complete]="droplet.questions.length > 2"></div>
      <div class="progress-marker" [class.complete]="droplet.questions.length > 3"></div>
      <div class="progress-marker" [class.complete]="droplet.questions.length > 4"></div>
    </h4>
    <button class="btn btn-sm" [routerLink]="['/create/create4']">Add New</button>
    <div *ngIf="droplet.questions.length < 1">None</div>
    <div class="row" *ngFor="let question of droplet.questions; let i=index; trackBy: tracking">
      <div class="question col-md-10" (click)="selectQuestion(i)">
        <div>
          <span (click)="removeElement(i, 'question')" class="pull-right glyphicon glyphicon-remove" aria-hidden="true"></span>
          <h5>Prompt:</h5>
          <span [innerHTML]="question.prompt || empty"></span>
        </div>
        <hr>
        <h5>Answer:</h5>
        <div>{{ question.answer || "empty" }}</div>
        <hr>
        <h5>Filled Answer:</h5>
        <div>{{ question.filledAnswer || "empty" }}</div>
      </div>
      <div *ngIf="question.comment" class="comments col-md-10">
        <label>Editor comment:</label>
        <div>{{ question.comment }}</div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-10">
    <h4>Hints (optional)</h4>
    <button class="btn btn-sm" [routerLink]="['/create/create5']">Add New</button>
    <div *ngIf="droplet.hints.length < 1">None</div>
    <div class="row" *ngFor="let hint of droplet.hints; let i=index; trackBy: tracking">
      <div class="hint col-md-10" (click)="selectHint(i)">
        <span (click)="removeElement(i, 'hint')" class="pull-right glyphicon glyphicon-remove" aria-hidden="true"></span>
        <span [innerHTML]="hint.content || empty"></span>
      </div>
      <div *ngIf="hint.comment" class="comments col-md-10">
        <label>Editor comment:</label>
        <div>{{ hint.comment }}</div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-10">
    <h4>Tags
      <div class="progress-marker" [class.complete]="droplet.tags.length > 0"></div>
      <div class="progress-marker" [class.complete]="droplet.tags.length > 1"></div>
      <div class="progress-marker" [class.complete]="droplet.tags.length > 2"></div>
    </h4>
    <button class="btn btn-sm" [routerLink]="['/create/create6']">Add New</button>
    <div *ngIf="droplet.tags.length < 1">None</div>
    <br>
    <button *ngFor="let tag of droplet.tags; let i=index; trackBy: tracking" type="button" class="btn btn-default btn-sm" (click)="removeElement(i, 'tag')">
      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> {{ tag.tag }}
    </button>
    <div *ngIf="droplet.comments && droplet.comments.tags" class="left15 comments col-md-10">
      <label>Editor comment:</label>
      <div>{{ droplet.comments.tags }}</div>
    </div>
  </div>
</div>
